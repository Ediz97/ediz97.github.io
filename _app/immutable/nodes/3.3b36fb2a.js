import{S as G,i as L,s as Q,k as y,a9 as fe,a as P,q,l as A,m as T,aa as de,c as w,r as z,h as I,n as g,b as j,G as _,u as ne,H as N,I as H,T as B,p as S,K as F,W as me,_ as he,g as V,v as Ee,f as Be,d as O,$ as Me,ab as oe,y as J,z as K,A as W,B as Y,a2 as re,U as ge,J as Ce}from"../chunks/index.f48e571b.js";import{w as U}from"../chunks/index.652fd67d.js";const _e=U(0),be=U(0),te=U(0),ve=U(0),ae=U(0),se=U(),ie=U(!1),Ie=U(!1),ee=U([]);let pe=[],ke=[],ye=[],R;ae.subscribe(s=>{R=s,pe=[-1*R,R],ke=[-1*R-1,-1,R-1],ye=[R+1,1,-1*R+1]});function Z(s){let e=pe;return s%R!==0&&(e=e.concat(ke)),s%R!==R-1&&(e=e.concat(ye)),e}function De(s){let e,t,r,n;return{c(){e=y("div"),t=new fe(!1),r=P(),n=q(s[0]),this.h()},l(a){e=A(a,"DIV",{id:!0,class:!0});var l=T(e);t=de(l,!1),r=w(l),n=z(l,s[0]),l.forEach(I),this.h()},h(){t.a=r,g(e,"id","FlagsCount"),g(e,"class","svelte-1jy9a1b")},m(a,l){j(a,e,l),t.m(Pe,e),_(e,r),_(e,n)},p(a,[l]){l&1&&ne(n,a[0])},i:N,o:N,d(a){a&&I(e)}}}const Pe="&#128681;";function we(s,e,t){let r;return H(s,te,n=>t(0,r=n)),[r]}class Fe extends G{constructor(e){super(),L(this,e,we,De,Q,{})}}function Ne(s){let e,t,r,n;return{c(){e=y("div"),t=new fe(!1),r=P(),n=q(s[0]),this.h()},l(a){e=A(a,"DIV",{id:!0,class:!0});var l=T(e);t=de(l,!1),r=w(l),n=z(l,s[0]),l.forEach(I),this.h()},h(){t.a=r,g(e,"id","Timer"),g(e,"class","svelte-h2a3qn")},m(a,l){j(a,e,l),t.m(Se,e),_(e,r),_(e,n)},p(a,[l]){l&1&&ne(n,a[0])},i:N,o:N,d(a){a&&I(e)}}}const Se="&#9201;";function He(s,e,t){let r;return H(s,_e,n=>t(0,r=n)),[r]}class Re extends G{constructor(e){super(),L(this,e,He,Ne,Q,{})}}function Ve(s){let e,t,r,n,a,l,i,u,o,c,d,v,h,k;return{c(){e=y("div"),t=y("p"),r=P(),n=y("p"),a=P(),l=y("p"),i=q("?"),u=P(),o=y("p"),c=q(s[5]),d=P(),v=y("button"),this.h()},l(f){e=A(f,"DIV",{class:!0,style:!0});var m=T(e);t=A(m,"P",{class:!0});var M=T(t);M.forEach(I),r=w(m),n=A(m,"P",{class:!0});var E=T(n);E.forEach(I),a=w(m),l=A(m,"P",{style:!0,class:!0});var p=T(l);i=z(p,"?"),p.forEach(I),u=w(m),o=A(m,"P",{style:!0,class:!0});var D=T(o);c=z(D,s[5]),D.forEach(I),d=w(m),v=A(m,"BUTTON",{class:!0});var C=T(v);C.forEach(I),m.forEach(I),this.h()},h(){g(t,"class","svelte-1aggfl6"),B(t,"clicked",!s[3]),B(t,"hideBomb",s[1]),g(n,"class","svelte-1aggfl6"),B(n,"hideFlag",s[4]),S(l,"font-size","22px"),g(l,"class","svelte-1aggfl6"),B(l,"hideQuestionMark",s[7]),S(o,"color","rgb("+(105+s[5]*35)+", "+(255-s[5]*50)+", 0)"),g(o,"class","svelte-1aggfl6"),B(o,"clicked",!s[3]),B(o,"hideNumber",s[5]===0||!s[1]),g(v,"class","svelte-1aggfl6"),B(v,"clicked",s[3]),B(v,"unmarked",!s[8][s[0]]),B(v,"marked",s[8][s[0]]),B(v,"gameFinished",s[2]||s[9]===0),g(e,"class","Field svelte-1aggfl6"),S(e,"background","rgb("+50*(s[0]%2)+", "+50*(s[0]%2)+", "+50*(s[0]%2)+")")},m(f,m){j(f,e,m),_(e,t),t.innerHTML=Oe,_(e,r),_(e,n),n.innerHTML=Ue,_(e,a),_(e,l),_(l,i),_(e,u),_(e,o),_(o,c),_(e,d),_(e,v),h||(k=[F(v,"click",s[10]),F(v,"contextmenu",s[11]),F(e,"mousedown",s[17]),F(e,"click",s[18]),F(e,"contextmenu",s[19]),F(e,"mouseleave",s[20])],h=!0)},p(f,[m]){m&8&&B(t,"clicked",!f[3]),m&2&&B(t,"hideBomb",f[1]),m&16&&B(n,"hideFlag",f[4]),m&128&&B(l,"hideQuestionMark",f[7]),m&32&&ne(c,f[5]),m&32&&S(o,"color","rgb("+(105+f[5]*35)+", "+(255-f[5]*50)+", 0)"),m&8&&B(o,"clicked",!f[3]),m&34&&B(o,"hideNumber",f[5]===0||!f[1]),m&8&&B(v,"clicked",f[3]),m&257&&B(v,"unmarked",!f[8][f[0]]),m&257&&B(v,"marked",f[8][f[0]]),m&516&&B(v,"gameFinished",f[2]||f[9]===0),m&1&&S(e,"background","rgb("+50*(f[0]%2)+", "+50*(f[0]%2)+", "+50*(f[0]%2)+")")},i:N,o:N,d(f){f&&I(e),h=!1,me(k)}}}const Oe="&#128163;",Ue="&#128681;";function qe(s,e,t){let r,n,a;H(s,Ie,b=>t(16,r=b)),H(s,ee,b=>t(8,n=b)),H(s,se,b=>t(9,a=b));const l=he();let{tileAtIndexIsClicked:i}=e,{bombPlacements:u}=e,{tileAtIndexIsFlagged:o}=e,{tileAtIndexIsMarked:c}=e,{tileIndex:d}=e,{hideBomb:v=!1}=e,{bombsDetonated:h=!1}=e,k=!1,f=!0,m=!0,M=0,E=0;function p(){u[d]!==!1&&Z(d).forEach(b=>{u[d+b]===!1&&t(5,M++,M)})}function D(){!f||!m||(l("layBombs",{index:d}),t(12,i[d]=!0,i))}function C(){v?(l("updateTimer",{timer:"start"}),M===0&&l("revealNeighbours",{index:d})):l("gameOver")}function X(){f&&m?(te.update(b=>b-1),t(13,o[d]=!0,o),t(4,f=!1)):!f&&m?(t(4,f=!0),t(7,m=!1)):(te.update(b=>b+1),t(13,o[d]=!1,o),t(7,m=!0))}const x=()=>t(6,E++,E),$=()=>t(6,E=0),Ae=()=>t(6,E=0),Te=()=>t(6,E=0);return s.$$set=b=>{"tileAtIndexIsClicked"in b&&t(12,i=b.tileAtIndexIsClicked),"bombPlacements"in b&&t(15,u=b.bombPlacements),"tileAtIndexIsFlagged"in b&&t(13,o=b.tileAtIndexIsFlagged),"tileAtIndexIsMarked"in b&&t(14,c=b.tileAtIndexIsMarked),"tileIndex"in b&&t(0,d=b.tileIndex),"hideBomb"in b&&t(1,v=b.hideBomb),"bombsDetonated"in b&&t(2,h=b.bombsDetonated)},s.$$.update=()=>{if(s.$$.dirty&65536&&r&&p(),s.$$.dirty&6&&h&&(v||(t(4,f=!0),t(3,k=!0))),s.$$.dirty&4123&&i[d]&&f&&!k&&(t(3,k=!0),v&&se.update(b=>b-1),setTimeout(C)),s.$$.dirty&24681)if(E===2&&k){let b=0;Z(d).forEach(le=>{o[d+le]&&b++}),b>=M&&M!==0?l("revealNeighbours",{index:d}):(Z(d).forEach(le=>{t(14,c[d+le]=!0,c)}),ee.set(c))}else Z(d).forEach(b=>{t(14,c[d+b]=!1,c)}),ee.set(c)},[d,v,h,k,f,M,E,m,n,a,D,X,i,o,c,u,r,x,$,Ae,Te]}class ze extends G{constructor(e){super(),L(this,e,qe,Ve,Q,{tileAtIndexIsClicked:12,bombPlacements:15,tileAtIndexIsFlagged:13,tileAtIndexIsMarked:14,tileIndex:0,hideBomb:1,bombsDetonated:2})}}function ue(s,e,t){const r=s.slice();return r[16]=e[t],r[18]=t,r}function ce(s){let e,t;return e=new ze({props:{hideBomb:s[16],bombPlacements:s[0],tileIndex:s[18],bombsDetonated:s[4],tileAtIndexIsClicked:s[1],tileAtIndexIsFlagged:s[2],tileAtIndexIsMarked:s[3]}}),e.$on("updateTimer",s[12]),e.$on("layBombs",oe(s[6])),e.$on("gameOver",oe(s[7])),e.$on("revealNeighbours",s[8]),{c(){J(e.$$.fragment)},l(r){K(e.$$.fragment,r)},m(r,n){W(e,r,n),t=!0},p(r,n){const a={};n&1&&(a.hideBomb=r[16]),n&1&&(a.bombPlacements=r[0]),n&16&&(a.bombsDetonated=r[4]),n&2&&(a.tileAtIndexIsClicked=r[1]),n&4&&(a.tileAtIndexIsFlagged=r[2]),n&8&&(a.tileAtIndexIsMarked=r[3]),e.$set(a)},i(r){t||(V(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Y(e,r)}}}function Ge(s){let e,t,r=s[0],n=[];for(let l=0;l<r.length;l+=1)n[l]=ce(ue(s,r,l));const a=l=>O(n[l],1,1,()=>{n[l]=null});return{c(){e=y("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{id:!0,style:!0,class:!0});var i=T(e);for(let u=0;u<n.length;u+=1)n[u].l(i);i.forEach(I),this.h()},h(){g(e,"id","MinesField"),S(e,"grid-template-columns","repeat("+s[5]+", auto)"),g(e,"class","svelte-1sth58w")},m(l,i){j(l,e,i);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);t=!0},p(l,[i]){if(i&479){r=l[0];let u;for(u=0;u<r.length;u+=1){const o=ue(l,r,u);n[u]?(n[u].p(o,i),V(n[u],1)):(n[u]=ce(o),n[u].c(),V(n[u],1),n[u].m(e,null))}for(Ee(),u=r.length;u<n.length;u+=1)a(u);Be()}(!t||i&32)&&S(e,"grid-template-columns","repeat("+l[5]+", auto)")},i(l){if(!t){for(let i=0;i<r.length;i+=1)V(n[i]);t=!0}},o(l){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)O(n[i]);t=!1},d(l){l&&I(e),Me(n,l)}}}function Le(s,e,t){let r,n,a,l;H(s,be,p=>t(14,r=p)),H(s,ve,p=>t(10,n=p)),H(s,ie,p=>t(11,a=p)),H(s,ae,p=>t(5,l=p));let i=[],u=[],o=[],c=[],d=!1,v=!1,h=!1;const k=he();function f(p){if(!h){t(0,i=Array(n).fill(!0));for(let D=0;D<r;D++){let C=Math.floor(Math.random()*i.length);for(;!i[C]||C===p.detail.index||Z(p.detail.index).map(X=>X+p.detail.index).includes(C);)C=Math.floor(Math.random()*i.length);t(0,i[C]=!1,i)}Ie.set(!0),h=!0}}function m(){k("updateTimer",{timer:"stop"}),d||(t(4,d=!0),setTimeout(()=>alert("Game over! Please reload the page."),10))}function M(p){Z(p.detail.index).forEach(D=>{u[p.detail.index+D]===!1&&!o[p.detail.index+D]&&setTimeout(()=>t(1,u[p.detail.index+D]=!0,u),25)})}function E(p){re.call(this,s,p)}return s.$$.update=()=>{s.$$.dirty&3584&&a&&(v||(t(0,i=Array(n).fill(!0)),t(1,u=Array(n).fill(!1)),t(2,o=Array(n).fill(!1)),t(3,c=Array(n).fill(!1)),t(9,v=!0)))},[i,u,o,c,d,l,f,m,M,v,n,a,E]}class Qe extends G{constructor(e){super(),L(this,e,Le,Ge,Q,{})}}function je(s){let e,t,r,n;return{c(){e=y("button"),t=y("p"),this.h()},l(a){e=A(a,"BUTTON",{id:!0,class:!0});var l=T(e);t=A(l,"P",{class:!0});var i=T(t);i.forEach(I),l.forEach(I),this.h()},h(){g(t,"class","svelte-88721u"),g(e,"id","ResetButton"),g(e,"class","svelte-88721u")},m(a,l){j(a,e,l),_(e,t),t.innerHTML=Je,r||(n=F(e,"click",s[0]),r=!0)},p:N,i:N,o:N,d(a){a&&I(e),r=!1,n()}}}const Je="&#128472;";function Ke(s){return[()=>{location.reload()}]}class We extends G{constructor(e){super(),L(this,e,Ke,je,Q,{})}}function Ye(s){let e,t,r,n,a,l,i,u,o,c,d,v;return r=new Fe({}),a=new We({}),i=new Re({}),o=new Qe({}),o.$on("updateTimer",s[1]),{c(){e=y("div"),t=y("div"),J(r.$$.fragment),n=P(),J(a.$$.fragment),l=P(),J(i.$$.fragment),u=P(),J(o.$$.fragment),this.h()},l(h){e=A(h,"DIV",{id:!0,style:!0,class:!0});var k=T(e);t=A(k,"DIV",{id:!0,class:!0});var f=T(t);K(r.$$.fragment,f),n=w(f),K(a.$$.fragment,f),l=w(f),K(i.$$.fragment,f),f.forEach(I),u=w(k),K(o.$$.fragment,k),k.forEach(I),this.h()},h(){g(t,"id","statistics"),g(t,"class","svelte-1bmo594"),g(e,"id","userInterface"),S(e,"visibility",s[0]),g(e,"class","svelte-1bmo594")},m(h,k){j(h,e,k),_(e,t),W(r,t,null),_(t,n),W(a,t,null),_(t,l),W(i,t,null),_(e,u),W(o,e,null),c=!0,d||(v=F(e,"contextmenu",ge(s[5])),d=!0)},p(h,[k]){(!c||k&1)&&S(e,"visibility",h[0])},i(h){c||(V(r.$$.fragment,h),V(a.$$.fragment,h),V(i.$$.fragment,h),V(o.$$.fragment,h),c=!0)},o(h){O(r.$$.fragment,h),O(a.$$.fragment,h),O(i.$$.fragment,h),O(o.$$.fragment,h),c=!1},d(h){h&&I(e),Y(r),Y(a),Y(i),Y(o),d=!1,v()}}}function Xe(s,e,t){let r,n;H(s,se,c=>t(3,r=c)),H(s,ie,c=>t(4,n=c));let a="hidden",l,i=!1;function u(c){c.detail.timer==="start"&&!i?(t(2,l=setInterval(()=>_e.update(d=>d+1),1e3)),i=!0):c.detail.timer==="stop"&&clearInterval(l)}function o(c){re.call(this,s,c)}return s.$$.update=()=>{s.$$.dirty&16&&n&&t(0,a="visible"),s.$$.dirty&12&&r===0&&(clearInterval(l),setTimeout(()=>alert("You won!"),10))},[a,u,l,r,n,o]}class Ze extends G{constructor(e){super(),L(this,e,Xe,Ye,Q,{})}}function xe(s){let e,t,r,n,a,l,i,u,o,c,d,v,h,k,f,m;return{c(){e=y("div"),t=y("div"),r=y("h1"),n=q("Select a difficulty level"),a=P(),l=y("div"),i=y("button"),u=q("Easy"),o=P(),c=y("button"),d=q("Medium"),v=P(),h=y("button"),k=q("Hard"),this.h()},l(M){e=A(M,"DIV",{id:!0,style:!0,class:!0});var E=T(e);t=A(E,"DIV",{id:!0,class:!0});var p=T(t);r=A(p,"H1",{class:!0});var D=T(r);n=z(D,"Select a difficulty level"),D.forEach(I),p.forEach(I),a=w(E),l=A(E,"DIV",{id:!0,class:!0});var C=T(l);i=A(C,"BUTTON",{id:!0,class:!0});var X=T(i);u=z(X,"Easy"),X.forEach(I),o=w(C),c=A(C,"BUTTON",{id:!0,class:!0});var x=T(c);d=z(x,"Medium"),x.forEach(I),v=w(C),h=A(C,"BUTTON",{id:!0,class:!0});var $=T(h);k=z($,"Hard"),$.forEach(I),C.forEach(I),E.forEach(I),this.h()},h(){g(r,"class","svelte-nnkd9c"),g(t,"id","headline"),g(t,"class","svelte-nnkd9c"),g(i,"id","easy"),g(i,"class","svelte-nnkd9c"),g(c,"id","medium"),g(c,"class","svelte-nnkd9c"),g(h,"id","hard"),g(h,"class","svelte-nnkd9c"),g(l,"id","buttons"),g(l,"class","svelte-nnkd9c"),g(e,"id","difficultyPopup"),S(e,"visibility",s[0]),g(e,"class","svelte-nnkd9c")},m(M,E){j(M,e,E),_(e,t),_(t,r),_(r,n),_(e,a),_(e,l),_(l,i),_(i,u),_(l,o),_(l,c),_(c,d),_(l,v),_(l,h),_(h,k),f||(m=[F(i,"click",s[3]),F(c,"click",s[4]),F(h,"click",s[5]),F(e,"contextmenu",ge(s[2]))],f=!0)},p(M,[E]){E&1&&S(e,"visibility",M[0])},i:N,o:N,d(M){M&&I(e),f=!1,me(m)}}}function $e(s,e,t){let r="visible";function n(o,c,d){ae.set(o),ve.set(c),te.set(d),be.set(d),se.set(c-d),ee.set(Array(c).fill(!1)),ie.set(!0),t(0,r="hidden")}function a(o){re.call(this,s,o)}return[r,n,a,()=>n(9,81,10),()=>n(19,266,40),()=>n(27,486,99)]}class et extends G{constructor(e){super(),L(this,e,$e,xe,Q,{})}}function tt(s){let e,t,r,n,a,l,i,u;return t=new et({}),n=new Ze({}),{c(){e=y("main"),J(t.$$.fragment),r=P(),J(n.$$.fragment),a=P(),l=y("img"),this.h()},l(o){e=A(o,"MAIN",{class:!0});var c=T(e);K(t.$$.fragment,c),r=w(c),K(n.$$.fragment,c),a=w(c),l=A(c,"IMG",{src:!0,alt:!0,class:!0}),c.forEach(I),this.h()},h(){Ce(l.src,i="/bobomb.png")||g(l,"src",i),g(l,"alt","A bomb."),g(l,"class","svelte-105qtz5"),g(e,"class","svelte-105qtz5")},m(o,c){j(o,e,c),W(t,e,null),_(e,r),W(n,e,null),_(e,a),_(e,l),u=!0},p:N,i(o){u||(V(t.$$.fragment,o),V(n.$$.fragment,o),u=!0)},o(o){O(t.$$.fragment,o),O(n.$$.fragment,o),u=!1},d(o){o&&I(e),Y(t),Y(n)}}}class nt extends G{constructor(e){super(),L(this,e,null,tt,Q,{})}}export{nt as component};
