import{S as G,i as K,s as j,k as y,aa as me,a as D,q as Q,l as A,m as E,ab as he,c as P,r as z,h as v,n as _,b as q,G as b,u as re,H as N,I as C,T as B,p as S,K as F,W as ge,_ as _e,g as V,v as Be,f as Me,d as L,$ as we,ac as ue,y as W,z as Y,A as J,B as X,a2 as ie,U as be,a7 as Ce}from"../chunks/index.54aea075.js";import{w as O,b as De}from"../chunks/paths.40dfddfe.js";const ne=O(0),Ie=O(0),te=O(0),ve=O(0),ae=O(0),se=O(),oe=O(!1),pe=O(!1),ee=O([]),ce=O("");let ke=[],ye=[],Ae=[],R;ae.subscribe(s=>{R=s,ke=[-1*R,R],ye=[-1*R-1,-1,R-1],Ae=[R+1,1,-1*R+1]});function x(s){let e=ke;return s%R!==0&&(e=e.concat(ye)),s%R!==R-1&&(e=e.concat(Ae)),e}function Pe(s){let e,t,n,r;return{c(){e=y("div"),t=new me(!1),n=D(),r=Q(s[0]),this.h()},l(a){e=A(a,"DIV",{id:!0,class:!0});var l=E(e);t=he(l,!1),n=P(l),r=z(l,s[0]),l.forEach(v),this.h()},h(){t.a=n,_(e,"id","FlagsCount"),_(e,"class","svelte-1jy9a1b")},m(a,l){q(a,e,l),t.m(Fe,e),b(e,n),b(e,r)},p(a,[l]){l&1&&re(r,a[0])},i:N,o:N,d(a){a&&v(e)}}}const Fe="&#128681;";function Ne(s,e,t){let n;return C(s,te,r=>t(0,n=r)),[n]}class Se extends G{constructor(e){super(),K(this,e,Ne,Pe,j,{})}}function He(s){let e,t,n,r;return{c(){e=y("div"),t=new me(!1),n=D(),r=Q(s[0]),this.h()},l(a){e=A(a,"DIV",{id:!0,class:!0});var l=E(e);t=he(l,!1),n=P(l),r=z(l,s[0]),l.forEach(v),this.h()},h(){t.a=n,_(e,"id","Timer"),_(e,"class","svelte-1gbbsdm")},m(a,l){q(a,e,l),t.m(Re,e),b(e,n),b(e,r)},p(a,[l]){l&1&&re(r,a[0])},i:N,o:N,d(a){a&&v(e)}}}const Re="&#9201;";function Ve(s,e,t){let n;return C(s,ne,r=>t(0,n=r)),[n]}class Oe extends G{constructor(e){super(),K(this,e,Ve,He,j,{})}}function Ue(s){let e,t,n,r,a,l,o,i,u,d,m,g,c,k;return{c(){e=y("div"),t=y("p"),n=D(),r=y("p"),a=D(),l=y("p"),o=Q("?"),i=D(),u=y("p"),d=Q(s[5]),m=D(),g=y("button"),this.h()},l(f){e=A(f,"DIV",{class:!0,style:!0});var h=E(e);t=A(h,"P",{class:!0});var M=E(t);M.forEach(v),n=P(h),r=A(h,"P",{class:!0});var T=E(r);T.forEach(v),a=P(h),l=A(h,"P",{style:!0,class:!0});var U=E(l);o=z(U,"?"),U.forEach(v),i=P(h),u=A(h,"P",{style:!0,class:!0});var p=E(u);d=z(p,s[5]),p.forEach(v),m=P(h),g=A(h,"BUTTON",{class:!0});var w=E(g);w.forEach(v),h.forEach(v),this.h()},h(){_(t,"class","svelte-1aggfl6"),B(t,"clicked",!s[3]),B(t,"hideBomb",s[1]),_(r,"class","svelte-1aggfl6"),B(r,"hideFlag",s[4]),S(l,"font-size","22px"),_(l,"class","svelte-1aggfl6"),B(l,"hideQuestionMark",s[7]),S(u,"color","rgb("+(105+s[5]*35)+", "+(255-s[5]*50)+", 0)"),_(u,"class","svelte-1aggfl6"),B(u,"clicked",!s[3]),B(u,"hideNumber",s[5]===0||!s[1]),_(g,"class","svelte-1aggfl6"),B(g,"clicked",s[3]),B(g,"unmarked",!s[8][s[0]]),B(g,"marked",s[8][s[0]]),B(g,"gameFinished",s[2]||s[9]===0),_(e,"class","Field svelte-1aggfl6"),S(e,"background","rgb("+50*(s[0]%2)+", "+50*(s[0]%2)+", "+50*(s[0]%2)+")")},m(f,h){q(f,e,h),b(e,t),t.innerHTML=Le,b(e,n),b(e,r),r.innerHTML=qe,b(e,a),b(e,l),b(l,o),b(e,i),b(e,u),b(u,d),b(e,m),b(e,g),c||(k=[F(g,"click",s[10]),F(g,"contextmenu",s[11]),F(e,"mousedown",s[17]),F(e,"click",s[18]),F(e,"contextmenu",s[19]),F(e,"mouseleave",s[20])],c=!0)},p(f,[h]){h&8&&B(t,"clicked",!f[3]),h&2&&B(t,"hideBomb",f[1]),h&16&&B(r,"hideFlag",f[4]),h&128&&B(l,"hideQuestionMark",f[7]),h&32&&re(d,f[5]),h&32&&S(u,"color","rgb("+(105+f[5]*35)+", "+(255-f[5]*50)+", 0)"),h&8&&B(u,"clicked",!f[3]),h&34&&B(u,"hideNumber",f[5]===0||!f[1]),h&8&&B(g,"clicked",f[3]),h&257&&B(g,"unmarked",!f[8][f[0]]),h&257&&B(g,"marked",f[8][f[0]]),h&516&&B(g,"gameFinished",f[2]||f[9]===0),h&1&&S(e,"background","rgb("+50*(f[0]%2)+", "+50*(f[0]%2)+", "+50*(f[0]%2)+")")},i:N,o:N,d(f){f&&v(e),c=!1,ge(k)}}}const Le="&#128163;",qe="&#128681;";function Qe(s,e,t){let n,r,a;C(s,pe,I=>t(16,n=I)),C(s,ee,I=>t(8,r=I)),C(s,se,I=>t(9,a=I));const l=_e();let{tileAtIndexIsClicked:o}=e,{bombPlacements:i}=e,{tileAtIndexIsFlagged:u}=e,{tileAtIndexIsMarked:d}=e,{tileIndex:m}=e,{hideBomb:g=!1}=e,{bombsDetonated:c=!1}=e,k=!1,f=!0,h=!0,M=0,T=0;function U(){i[m]!==!1&&x(m).forEach(I=>{i[m+I]===!1&&t(5,M++,M)})}function p(){!f||!h||(l("layBombs",{index:m}),t(12,o[m]=!0,o))}function w(){g?(l("updateTimer",{timer:"start"}),M===0&&l("revealNeighbours",{index:m})):l("gameOver")}function H(){f&&h?(te.update(I=>I-1),t(13,u[m]=!0,u),t(4,f=!1)):!f&&h?(t(4,f=!0),t(7,h=!1)):(te.update(I=>I+1),t(13,u[m]=!1,u),t(7,h=!0))}const Z=()=>t(6,T++,T),$=()=>t(6,T=0),Ee=()=>t(6,T=0),Te=()=>t(6,T=0);return s.$$set=I=>{"tileAtIndexIsClicked"in I&&t(12,o=I.tileAtIndexIsClicked),"bombPlacements"in I&&t(15,i=I.bombPlacements),"tileAtIndexIsFlagged"in I&&t(13,u=I.tileAtIndexIsFlagged),"tileAtIndexIsMarked"in I&&t(14,d=I.tileAtIndexIsMarked),"tileIndex"in I&&t(0,m=I.tileIndex),"hideBomb"in I&&t(1,g=I.hideBomb),"bombsDetonated"in I&&t(2,c=I.bombsDetonated)},s.$$.update=()=>{if(s.$$.dirty&65536&&n&&U(),s.$$.dirty&6&&c&&(g||(t(4,f=!0),t(3,k=!0))),s.$$.dirty&4123&&o[m]&&f&&!k&&(t(3,k=!0),g&&se.update(I=>I-1),setTimeout(w)),s.$$.dirty&24681)if(T===2&&k){let I=0;x(m).forEach(le=>{u[m+le]&&I++}),I>=M&&M!==0?l("revealNeighbours",{index:m}):(x(m).forEach(le=>{t(14,d[m+le]=!0,d)}),ee.set(d))}else x(m).forEach(I=>{t(14,d[m+I]=!1,d)}),ee.set(d)},[m,g,c,k,f,M,T,h,r,a,p,H,o,u,d,i,n,Z,$,Ee,Te]}class ze extends G{constructor(e){super(),K(this,e,Qe,Ue,j,{tileAtIndexIsClicked:12,bombPlacements:15,tileAtIndexIsFlagged:13,tileAtIndexIsMarked:14,tileIndex:0,hideBomb:1,bombsDetonated:2})}}function fe(s,e,t){const n=s.slice();return n[17]=e[t],n[19]=t,n}function de(s){let e,t;return e=new ze({props:{hideBomb:s[17],bombPlacements:s[0],tileIndex:s[19],bombsDetonated:s[4],tileAtIndexIsClicked:s[1],tileAtIndexIsFlagged:s[2],tileAtIndexIsMarked:s[3]}}),e.$on("updateTimer",s[12]),e.$on("layBombs",ue(s[6])),e.$on("gameOver",ue(s[7])),e.$on("revealNeighbours",s[8]),{c(){W(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,r){J(e,n,r),t=!0},p(n,r){const a={};r&1&&(a.hideBomb=n[17]),r&1&&(a.bombPlacements=n[0]),r&16&&(a.bombsDetonated=n[4]),r&2&&(a.tileAtIndexIsClicked=n[1]),r&4&&(a.tileAtIndexIsFlagged=n[2]),r&8&&(a.tileAtIndexIsMarked=n[3]),e.$set(a)},i(n){t||(V(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){X(e,n)}}}function Ge(s){let e,t,n=s[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=de(fe(s,n,l));const a=l=>L(r[l],1,1,()=>{r[l]=null});return{c(){e=y("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=A(l,"DIV",{id:!0,style:!0,class:!0});var o=E(e);for(let i=0;i<r.length;i+=1)r[i].l(o);o.forEach(v),this.h()},h(){_(e,"id","MinesField"),S(e,"grid-template-columns","repeat("+s[5]+", auto)"),_(e,"class","svelte-1sth58w")},m(l,o){q(l,e,o);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null);t=!0},p(l,[o]){if(o&479){n=l[0];let i;for(i=0;i<n.length;i+=1){const u=fe(l,n,i);r[i]?(r[i].p(u,o),V(r[i],1)):(r[i]=de(u),r[i].c(),V(r[i],1),r[i].m(e,null))}for(Be(),i=n.length;i<r.length;i+=1)a(i);Me()}(!t||o&32)&&S(e,"grid-template-columns","repeat("+l[5]+", auto)")},i(l){if(!t){for(let o=0;o<n.length;o+=1)V(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)L(r[o]);t=!1},d(l){l&&v(e),we(r,l)}}}function Ke(s,e,t){let n,r,a,l,o;C(s,ce,p=>t(14,n=p)),C(s,Ie,p=>t(15,r=p)),C(s,ve,p=>t(10,a=p)),C(s,oe,p=>t(11,l=p)),C(s,ae,p=>t(5,o=p));let i=[],u=[],d=[],m=[],g=!1,c=!1,k=!1;const f=_e();function h(p){if(!k){t(0,i=Array(a).fill(!0));for(let w=0;w<r;w++){let H=Math.floor(Math.random()*i.length);for(;!i[H]||H===p.detail.index||x(p.detail.index).map(Z=>Z+p.detail.index).includes(H);)H=Math.floor(Math.random()*i.length);t(0,i[H]=!1,i)}pe.set(!0),k=!0}}function M(){if(f("updateTimer",{timer:"stop"}),!g){t(4,g=!0);let p=localStorage.getItem(n);setTimeout(()=>alert(`Game over!${p===null?"":`
Highscore: ${p} seconds!`}`),10)}}function T(p){x(p.detail.index).forEach(w=>{u[p.detail.index+w]===!1&&!d[p.detail.index+w]&&setTimeout(()=>t(1,u[p.detail.index+w]=!0,u),25)})}function U(p){ie.call(this,s,p)}return s.$$.update=()=>{s.$$.dirty&3584&&l&&(c||(t(0,i=Array(a).fill(!0)),t(1,u=Array(a).fill(!1)),t(2,d=Array(a).fill(!1)),t(3,m=Array(a).fill(!1)),t(9,c=!0)))},[i,u,d,m,g,o,h,M,T,c,a,l,U]}class je extends G{constructor(e){super(),K(this,e,Ke,Ge,j,{})}}function We(s){let e,t,n,r;return{c(){e=y("button"),t=y("p"),this.h()},l(a){e=A(a,"BUTTON",{id:!0,class:!0});var l=E(e);t=A(l,"P",{class:!0});var o=E(t);o.forEach(v),l.forEach(v),this.h()},h(){_(t,"class","svelte-88721u"),_(e,"id","ResetButton"),_(e,"class","svelte-88721u")},m(a,l){q(a,e,l),b(e,t),t.innerHTML=Ye,n||(r=F(e,"click",s[0]),n=!0)},p:N,i:N,o:N,d(a){a&&v(e),n=!1,r()}}}const Ye="&#128472;";function Je(s){return[()=>{location.reload()}]}class Xe extends G{constructor(e){super(),K(this,e,Je,We,j,{})}}function Ze(s){let e,t,n,r,a,l,o,i,u,d,m,g;return n=new Se({}),a=new Xe({}),o=new Oe({}),u=new je({}),u.$on("updateTimer",s[1]),{c(){e=y("div"),t=y("div"),W(n.$$.fragment),r=D(),W(a.$$.fragment),l=D(),W(o.$$.fragment),i=D(),W(u.$$.fragment),this.h()},l(c){e=A(c,"DIV",{id:!0,style:!0,class:!0});var k=E(e);t=A(k,"DIV",{id:!0,class:!0});var f=E(t);Y(n.$$.fragment,f),r=P(f),Y(a.$$.fragment,f),l=P(f),Y(o.$$.fragment,f),f.forEach(v),i=P(k),Y(u.$$.fragment,k),k.forEach(v),this.h()},h(){_(t,"id","statistics"),_(t,"class","svelte-1bmo594"),_(e,"id","userInterface"),S(e,"visibility",s[0]),_(e,"class","svelte-1bmo594")},m(c,k){q(c,e,k),b(e,t),J(n,t,null),b(t,r),J(a,t,null),b(t,l),J(o,t,null),b(e,i),J(u,e,null),d=!0,m||(g=F(e,"contextmenu",be(s[5])),m=!0)},p(c,[k]){(!d||k&1)&&S(e,"visibility",c[0])},i(c){d||(V(n.$$.fragment,c),V(a.$$.fragment,c),V(o.$$.fragment,c),V(u.$$.fragment,c),d=!0)},o(c){L(n.$$.fragment,c),L(a.$$.fragment,c),L(o.$$.fragment,c),L(u.$$.fragment,c),d=!1},d(c){c&&v(e),X(n),X(a),X(o),X(u),m=!1,g()}}}function xe(s,e,t){let n,r,a,l;C(s,ne,c=>t(7,n=c)),C(s,ce,c=>t(8,r=c)),C(s,se,c=>t(3,a=c)),C(s,oe,c=>t(4,l=c));let o="hidden",i,u=!1;function d(c){c.detail.timer==="start"&&!u?(t(2,i=setInterval(()=>ne.update(k=>k+1),1e3)),u=!0):c.detail.timer==="stop"&&clearInterval(i)}function m(){let c=localStorage.getItem(r);return+`${c}`>n||c===null?(localStorage.setItem(r,n.toString()),n):c}function g(c){ie.call(this,s,c)}return s.$$.update=()=>{if(s.$$.dirty&16&&l&&t(0,o="visible"),s.$$.dirty&12&&a===0){clearInterval(i);let c=m();setTimeout(()=>alert(`You won!
Highscore: ${c} seconds!`),10)}},[o,d,i,a,l,g]}class $e extends G{constructor(e){super(),K(this,e,xe,Ze,j,{})}}function et(s){let e,t,n,r,a,l,o,i,u,d,m,g,c,k,f,h;return{c(){e=y("div"),t=y("div"),n=y("h1"),r=Q("Select a difficulty level"),a=D(),l=y("div"),o=y("button"),i=Q("Easy"),u=D(),d=y("button"),m=Q("Medium"),g=D(),c=y("button"),k=Q("Hard"),this.h()},l(M){e=A(M,"DIV",{id:!0,style:!0,class:!0});var T=E(e);t=A(T,"DIV",{id:!0,class:!0});var U=E(t);n=A(U,"H1",{class:!0});var p=E(n);r=z(p,"Select a difficulty level"),p.forEach(v),U.forEach(v),a=P(T),l=A(T,"DIV",{id:!0,class:!0});var w=E(l);o=A(w,"BUTTON",{id:!0,class:!0});var H=E(o);i=z(H,"Easy"),H.forEach(v),u=P(w),d=A(w,"BUTTON",{id:!0,class:!0});var Z=E(d);m=z(Z,"Medium"),Z.forEach(v),g=P(w),c=A(w,"BUTTON",{id:!0,class:!0});var $=E(c);k=z($,"Hard"),$.forEach(v),w.forEach(v),T.forEach(v),this.h()},h(){_(n,"class","svelte-nnkd9c"),_(t,"id","headline"),_(t,"class","svelte-nnkd9c"),_(o,"id","easy"),_(o,"class","svelte-nnkd9c"),_(d,"id","medium"),_(d,"class","svelte-nnkd9c"),_(c,"id","hard"),_(c,"class","svelte-nnkd9c"),_(l,"id","buttons"),_(l,"class","svelte-nnkd9c"),_(e,"id","difficultyPopup"),S(e,"visibility",s[0]),_(e,"class","svelte-nnkd9c")},m(M,T){q(M,e,T),b(e,t),b(t,n),b(n,r),b(e,a),b(e,l),b(l,o),b(o,i),b(l,u),b(l,d),b(d,m),b(l,g),b(l,c),b(c,k),f||(h=[F(o,"click",s[3]),F(d,"click",s[4]),F(c,"click",s[5]),F(e,"contextmenu",be(s[2]))],f=!0)},p(M,[T]){T&1&&S(e,"visibility",M[0])},i:N,o:N,d(M){M&&v(e),f=!1,ge(h)}}}function tt(s,e,t){let n="visible";function r(u,d,m,g){ae.set(u),ve.set(d),te.set(m),Ie.set(m),ce.set(g),se.set(d-m),ee.set(Array(d).fill(!1)),oe.set(!0),t(0,n="hidden")}function a(u){ie.call(this,s,u)}return[n,r,a,()=>r(9,81,10,"easy"),()=>r(19,266,40,"medium"),()=>r(27,486,99,"hard")]}class st extends G{constructor(e){super(),K(this,e,tt,et,j,{})}}function lt(s){let e,t,n,r,a,l,o;return r=new st({}),l=new $e({}),{c(){e=y("link"),t=D(),n=y("main"),W(r.$$.fragment),a=D(),W(l.$$.fragment),this.h()},l(i){const u=Ce("svelte-26cuf3",document.head);e=A(u,"LINK",{rel:!0,type:!0,href:!0}),u.forEach(v),t=P(i),n=A(i,"MAIN",{class:!0});var d=E(n);Y(r.$$.fragment,d),a=P(d),Y(l.$$.fragment,d),d.forEach(v),this.h()},h(){_(e,"rel","icon"),_(e,"type","image/x-icon"),_(e,"href",De+"/bobomb.png"),document.title="Minesweeper",_(n,"class","svelte-bqrcci")},m(i,u){b(document.head,e),q(i,t,u),q(i,n,u),J(r,n,null),b(n,a),J(l,n,null),o=!0},p:N,i(i){o||(V(r.$$.fragment,i),V(l.$$.fragment,i),o=!0)},o(i){L(r.$$.fragment,i),L(l.$$.fragment,i),o=!1},d(i){v(e),i&&v(t),i&&v(n),X(r),X(l)}}}class it extends G{constructor(e){super(),K(this,e,null,lt,j,{})}}export{it as component};
